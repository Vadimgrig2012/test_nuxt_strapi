.sort((a, b) => (a.publishedAt < b.publishedAt ? 1 : -1)) - –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –æ–±—ä—è—Å–Ω–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ
-----

v-html="item.content" - —á—Ç–æ —Ç–∞–∫–æ–µ v-html
-----

const { data } = await useAsyncData(
	() => `news/${slug}`,
	() => getNewsBySlug(slug)
) - —á—Ç–æ —Ç—É—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç? –û–±—ä—è—Å–Ω–∏ –ø–æ–¥—Ä–æ–±–Ω–æ.
-----

if (!data.value) {
	throw createError({
		statusCode: 404,
		statusMessage: 'Not Found',
		message: '–ù–æ–≤–æ—Å—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞'
	})
} - —á—Ç–æ –∑–Ω–∞—á–∏—Ç throw?
-----

const item = computed(() => data.value) - –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –≤ –∫–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –ø—Ä–∏–º–µ–Ω—è—Ç—å computed?
-----

useSeoMeta({
	title: () => item.value?.seo?.title || item.value?.title || '–ù–æ–≤–æ—Å—Ç—å',
	description: () => item.value?.seo?.description || item.value?.excerpt || ''
}) - —á—Ç–æ –∑–Ω–∞—á–∏—Ç –∑–Ω–∞–∫ ? –≤–µ–∑–¥–µ –∏ —á—Ç–æ –≤–æ–æ–±—â–µ —Ç—É—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?
-----

const { data, pending, error } = await useAsyncData('news:list', () =>
	getNewsList()
) - –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —ç—Ç–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ ({ data, pending, error })? –ó–Ω–∞—é —á—Ç–æ —ç—Ç–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å ES. –ò —á—Ç–æ —Ç—É—Ç –¥–µ–ª–∞–µ—Ç news:list?
-----

const event = useRequestEvent()
if (event) event.node.res.statusCode = 404 - –∫–∞–∫ –≤–æ–æ–±—â–µ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?
-----

export async function getNewsBySlug(slug) - —Ç—É—Ç —è —É–∂–µ –∑–∞–ø—É—Ç–∞–ª—Å—è. –ö–∞–∫ —Å—é–¥–∞ –ø–æ–ø–∞–¥–∞–µ—Ç slug? –û—Ç–∫—É–¥–∞ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –æ–Ω –±–µ—Ä–µ—Ç—Å—è? 



====================================================================================


1) .sort((a, b) => (a.publishedAt < b.publishedAt ? 1 : -1)) ‚Äî –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç sort

Array.prototype.sort() —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç –º–∞—Å—Å–∏–≤ –Ω–∞ –º–µ—Å—Ç–µ (mutates). –¢–æ –µ—Å—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –º–∞—Å—Å–∏–≤ –º–µ–Ω—è–µ—Ç—Å—è.

–í sort —Ç—ã –ø–µ—Ä–µ–¥–∞—ë—à—å —Ñ—É–Ω–∫—Ü–∏—é-–∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä:

(a, b) => ...


–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–µ—Ä–Ω—É—Ç—å:

< 0 ‚Üí a –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–∞–Ω—å—à–µ b

> 0 ‚Üí a –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–∑–∂–µ b

0 ‚Üí –ø–æ—Ä—è–¥–æ–∫ –Ω–µ –≤–∞–∂–µ–Ω (–æ–Ω–∏ —Ä–∞–≤–Ω—ã)

–¢–≤–æ–π –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä
(a, b) => (a.publishedAt < b.publishedAt ? 1 : -1)


–û–Ω –¥–µ–ª–∞–µ—Ç —Ç–∞–∫:

–µ—Å–ª–∏ a ‚Äú–º–µ–Ω—å—à–µ‚Äù b (—Ç.–µ. –±–æ–ª–µ–µ —Ä–∞–Ω–Ω—è—è –¥–∞—Ç–∞) ‚Üí –≤–µ—Ä–Ω—É—Ç—å 1

–∑–Ω–∞—á–∏—Ç a –Ω—É–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –ü–û–ó–ñ–ï

–∏–Ω–∞—á–µ –≤–µ—Ä–Ω—É—Ç—å -1

–∑–Ω–∞—á–∏—Ç a –ø–æ—Å—Ç–∞–≤–∏—Ç—å –†–ê–ù–¨–®–ï

üëâ –í –∏—Ç–æ–≥–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —É–±—ã–≤–∞–Ω–∏—é (—Å–Ω–∞—á–∞–ª–∞ –±–æ–ª–µ–µ —Å–≤–µ–∂–∏–µ –Ω–æ–≤–æ—Å—Ç–∏).

–ü–æ—á–µ–º—É —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç?

–ï—Å–ª–∏ –¥–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ "YYYY-MM-DD", —Ç–æ —Å—Ç—Ä–æ–∫–æ–≤–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏–µ–π:

"2026-01-27" > "2026-01-20" ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω–æ

–ú–∏–Ω—É—Å —Ç–≤–æ–µ–≥–æ –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä–∞

–û–Ω –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0 –ø—Ä–∏ —Ä–∞–≤–µ–Ω—Å—Ç–≤–µ. –õ—É—á—à–µ –ø–∏—Å–∞—Ç—å —á—É—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–µ–µ:

.sort((a, b) => (a.publishedAt === b.publishedAt ? 0 : a.publishedAt < b.publishedAt ? 1 : -1))


–∏–ª–∏ –ø—Ä–æ—â–µ –∏ ‚Äú–ø–æ-–≤–∑—Ä–æ—Å–ª–æ–º—É‚Äù —á–µ—Ä–µ–∑ timestamp:

.sort((a, b) => new Date(b.publishedAt) - new Date(a.publishedAt))

2) v-html="item.content" ‚Äî —á—Ç–æ —Ç–∞–∫–æ–µ v-html

v-html ‚Äî –¥–∏—Ä–µ–∫—Ç–∏–≤–∞ Vue, –∫–æ—Ç–æ—Ä–∞—è –≥–æ–≤–æ—Ä–∏—Ç:

‚Äú–≤–æ–∑—å–º–∏ —Å—Ç—Ä–æ–∫—É HTML –∏ –≤—Å—Ç–∞–≤—å –µ—ë –≤–Ω—É—Ç—Ä—å —ç–ª–µ–º–µ–Ω—Ç–∞ –∫–∞–∫ HTML, –∞ –Ω–µ –∫–∞–∫ —Ç–µ–∫—Å—Ç‚Äù.

–ü—Ä–∏–º–µ—Ä:

item.content = "<p>–ü—Ä–∏–≤–µ—Ç <b>–º–∏—Ä</b></p>"


–ï—Å–ª–∏ —Ç—ã –≤—ã–≤–µ–¥–µ—à—å –æ–±—ã—á–Ω—ã–º {{ item.content }}:

Vue —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç —Ç–µ–≥–∏, –∏ —Ç—ã —É–≤–∏–¥–∏—à—å –±—É–∫–≤–∞–ª—å–Ω—ã–µ <p>...</p>

–ï—Å–ª–∏ v-html:

–±—Ä–∞—É–∑–µ—Ä —Ä–µ–∞–ª—å–Ω–æ —Å–æ–∑–¥–∞—Å—Ç <p> –∏ <b>

–í–∞–∂–Ω–æ (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å!)

v-html –æ–ø–∞—Å–µ–Ω, –µ—Å–ª–∏ HTML –ø—Ä–∏—Ö–æ–¥–∏—Ç –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –Ω–µ–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞: –≤–æ–∑–º–æ–∂–µ–Ω XSS.

–í —Ç–≤–æ—ë–º —Å–ª—É—á–∞–µ:

–ø–æ–∑–∂–µ HTML –±—É–¥–µ—Ç –∏–¥—Ç–∏ –∏–∑ Strapi (–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–∞—è CMS)

–≤—Å—ë —Ä–∞–≤–Ω–æ —Ö–æ—Ä–æ—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞: –Ω–µ –≤—Å—Ç–∞–≤–ª—è—Ç—å —Å—ã—Ä—ã–µ —Å–∫—Ä–∏–ø—Ç—ã, –∏ –≤ –∏–¥–µ–∞–ª–µ ‚Äî —Å–∞–Ω–∏—Ç–∞–π–∑–∏—Ç—å (–Ω–æ —ç—Ç–æ –ø–æ–∑–∂–µ).

3) useAsyncData(() => \news/${slug}`, () => getNewsBySlug(slug))` ‚Äî —á—Ç–æ —Ç—É—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç

–†–∞–∑–±–µ—Ä—ë–º –ø–æ —Å–ª–æ—è–º.

–ß—Ç–æ —Ç–∞–∫–æ–µ useAsyncData

–≠—Ç–æ Nuxt-—Ö—É–∫ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö SSR-friendly.

–û–Ω:

–º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–æ —Ä–µ–Ω–¥–µ—Ä–∞ (–µ—Å–ª–∏ —Ç—ã –ø–∏—à–µ—à—å await)

–ø–µ—Ä–µ–¥–∞—ë—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∫–ª–∏–µ–Ω—Ç —Ç–∞–∫, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ ‚Äú–º–∏–≥–∞–Ω–∏—è‚Äù –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

–¥–∞—ë—Ç —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–µ —Ñ–ª–∞–≥–∏: pending, error, data

–¢–≤–æ–π –∫–æ–¥
const { data } = await useAsyncData(
  () => `news/${slug}`,
  () => getNewsBySlug(slug)
)

1-—è —Ñ—É–Ω–∫—Ü–∏—è: –∫–ª—é—á
() => `news/${slug}`


–≠—Ç–æ –∫–ª—é—á –∫–µ—à–∞. –û–Ω –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã Nuxt —Ä–∞–∑–ª–∏—á–∞–ª —Ä–∞–∑–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã.

–¥–ª—è /news/a –∫–ª—é—á news/a

–¥–ª—è /news/b –∫–ª—é—á news/b

–ï—Å–ª–∏ –±—ã –∫–ª—é—á –±—ã–ª –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –¥–ª—è –≤—Å–µ—Ö ('news') ‚Äî Nuxt –º–æ–≥ –±—ã:

–ø–æ–∫–∞–∑–∞—Ç—å –Ω–µ —Ç—É –Ω–æ–≤–æ—Å—Ç—å

–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ —Ç–µ –¥–∞–Ω–Ω—ã–µ

2-—è —Ñ—É–Ω–∫—Ü–∏—è: fetcher
() => getNewsBySlug(slug)


–≠—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è —Ä–µ–∞–ª—å–Ω–æ –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ (—Å–µ–π—á–∞—Å –∏–∑ –º–æ–∫–æ–≤, –ø–æ—Ç–æ–º –∏–∑ Strapi).

–ü–æ—á–µ–º—É await?

–ü–æ—Ç–æ–º—É —á—Ç–æ –≤ <script setup> Nuxt –º–æ–∂–µ—Ç –ø–æ–¥–æ–∂–¥–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –∏ –æ—Ç–¥–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π HTML.

4) throw createError(...) ‚Äî —á—Ç–æ –∑–Ω–∞—á–∏—Ç throw

throw ‚Äî —ç—Ç–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä JavaScript:

‚Äú–ø—Ä–µ—Ä–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –∏ –≤—ã–±—Ä–æ—Å–∏—Ç—å –æ—à–∏–±–∫—É‚Äù.

–ü—Ä–∏–º–µ—Ä:

console.log('–¥–æ')
throw new Error('–ë—É–º')
console.log('–ø–æ—Å–ª–µ') // –ù–ï –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è


–í Nuxt:

throw createError({ statusCode: 404, message: '...' })


–æ–∑–Ω–∞—á–∞–µ—Ç:

‚Äú—ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç‚Äù

–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–µ–Ω–¥–µ—Ä —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

Nuxt –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç –æ—à–∏–±–∫—É –∏:

–≤—ã—Å—Ç–∞–≤–∏—Ç HTTP —Å—Ç–∞—Ç—É—Å 404 (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)

–ø–æ–∫–∞–∂–µ—Ç error page (app/error.vue)

–≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± ‚Äú–≤–µ—Ä–Ω—É—Ç—å 404‚Äù –≤ Nuxt.

5) const item = computed(() => data.value) ‚Äî —á—Ç–æ —Ç–∞–∫–æ–µ computed –∏ –∫–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è—Ç—å
–ß—Ç–æ —Ç–∞–∫–æ–µ computed

computed ‚Äî —ç—Ç–æ ‚Äú–≤—ã—á–∏—Å–ª—è–µ–º–æ–µ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ‚Äù.

–æ–Ω–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥—Ä—É–≥–∏—Ö —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (ref, reactive)

–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–Ω—è—é—Ç—Å—è

–∫–µ—à–∏—Ä—É–µ—Ç—Å—è: –µ—Å–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ –º–µ–Ω—è–ª–∏—Å—å ‚Äî –Ω–µ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è

–ü—Ä–∏–º–µ—Ä:

const a = ref(1)
const b = ref(2)

const sum = computed(() => a.value + b.value)


–ï—Å–ª–∏ a –ø–æ–º–µ–Ω—è–µ—Ç—Å—è ‚Äî sum –ø–µ—Ä–µ—Å—á–∏—Ç–∞–µ—Ç—Å—è.

–ó–∞—á–µ–º –∑–¥–µ—Å—å computed(() => data.value)

data –∏–∑ useAsyncData ‚Äî —ç—Ç–æ Ref.
–ß—Ç–æ–±—ã —É–¥–æ–±–Ω–æ –∏ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ ‚Äú–Ω–æ–≤–æ—Å—Ç–∏‚Äù, —Ç—ã —Å–æ–∑–¥–∞—ë—à—å item.

–≠—Ç–æ —É–¥–æ–±–Ω–æ, –∫–æ–≥–¥–∞:

—Ç—ã —Ö–æ—á–µ—à—å –¥–∞—Ç—å –ø–æ–Ω—è—Ç–Ω–æ–µ –∏–º—è (item)

–∏–ª–∏ —Å—Ç—Ä–æ–∏—à—å –æ—Ç –Ω–µ–≥–æ –¥—Ä—É–≥–∏–µ computed (title, dateFormatted, etc.)

–ú–æ–∂–Ω–æ –∏ –±–µ–∑ computed:

const item = data // –Ω–æ —Ç–æ–≥–¥–∞ item.value —ç—Ç–æ ref –Ω–∞ ref‚Ä¶ –Ω–µ—É–¥–æ–±–Ω–æ

6) item.value?.seo?.title ‚Äî —á—Ç–æ –∑–Ω–∞—á–∏—Ç ? –∏ —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç

–≠—Ç–æ optional chaining: ‚Äú–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞‚Äù.

item.value?.seo?.title


–æ–∑–Ω–∞—á–∞–µ—Ç:

–µ—Å–ª–∏ item.value —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–Ω–µ null/undefined)

–≤–∑—è—Ç—å seo

–µ—Å–ª–∏ seo —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

–≤–∑—è—Ç—å title

–∏–Ω–∞—á–µ –≤–µ—Ä–Ω—É—Ç—å undefined –∏ –ù–ï –ø–∞–¥–∞—Ç—å –æ—à–∏–±–∫–æ–π

–ë–µ–∑ ?. –±—ã–ª–æ –±—ã –æ–ø–∞—Å–Ω–æ:

item.value.seo.title


–ï—Å–ª–∏ item.value = null ‚Üí –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞:
Cannot read properties of null

–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –≤—Å—è —Å—Ç—Ä–æ–∫–∞ SEO
title: () => item.value?.seo?.title || item.value?.title || '–ù–æ–≤–æ—Å—Ç—å'


–≠—Ç–æ —Ü–µ–ø–æ—á–∫–∞ fallback‚Äô–æ–≤:

–µ—Å–ª–∏ –µ—Å—Ç—å seo.title ‚Üí –∏—Å–ø–æ–ª—å–∑—É–π –µ–≥–æ

–∏–Ω–∞—á–µ –µ—Å–ª–∏ –µ—Å—Ç—å –æ–±—ã—á–Ω—ã–π title ‚Üí –∏—Å–ø–æ–ª—å–∑—É–π –µ–≥–æ

–∏–Ω–∞—á–µ ‚Üí '–ù–æ–≤–æ—Å—Ç—å'

–¢–æ –∂–µ —Å description.

–ü–æ—á–µ–º—É title: () => ... —Ñ—É–Ω–∫—Ü–∏—è?

–ß—Ç–æ–±—ã Nuxt –º–æ–≥ –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å SEO, –µ—Å–ª–∏ item –ø–æ—è–≤–∏—Ç—Å—è –ø–æ–∑–∂–µ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—Å—è.

7) const { data, pending, error } = await useAsyncData('news:list', () => getNewsList())
–ß—Ç–æ —Ç–∞–∫–æ–µ { data, pending, error }

–≠—Ç–æ –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–∞.

useAsyncData(...) –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–æ–π —Ñ–æ—Ä–º—ã:

{
  data: Ref(...),
  pending: Ref(true/false),
  error: Ref(null/–æ—à–∏–±–∫–∞),
  refresh: Function,
  ...
}


–¢—ã ‚Äú–≤—ã—Ç–∞—Å–∫–∏–≤–∞–µ—à—å‚Äù –∏–∑ –Ω–µ–≥–æ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è:

const { data, pending, error } = ...

–ß—Ç–æ –∑–Ω–∞—á–∏—Ç 'news:list'

–≠—Ç–æ –∫–ª—é—á –∑–∞–ø—Ä–æ—Å–∞ (–∫–µ—à/–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è).

news:list ‚Äî —Å–ø–∏—Å–æ–∫ –Ω–æ–≤–æ—Å—Ç–µ–π

news:slug ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –Ω–æ–≤–æ—Å—Ç—å

–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å—Ç—Ä–æ–∫–∞. –£–¥–æ–±–Ω–æ –ø–∏—Å–∞—Ç—å —Å –¥–≤–æ–µ—Ç–æ—á–∏–µ–º –∫–∞–∫ namespace.

–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:

Nuxt –∫–µ—à–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

—É–º–µ–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö

–æ—Ç–ª–∏—á–∞–µ—Ç –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –æ—Ç –¥—Ä—É–≥–æ–≥–æ

8) const event = useRequestEvent(); event.node.res.statusCode = 404 ‚Äî –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

useRequestEvent() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å (H3 event).

–í–∞–∂–Ω–æ:

–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ event —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

–Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ event –±—É–¥–µ—Ç undefined

–ü–æ—ç—Ç–æ–º—É –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—é—Ç:

const event = useRequestEvent()
if (event) event.node.res.statusCode = 404


event.node.res ‚Äî —ç—Ç–æ Node.js response object, —É –Ω–µ–≥–æ –µ—Å—Ç—å statusCode.

–ù–æ! –í Nuxt –ø—Ä–∞–≤–∏–ª—å–Ω–µ–µ –¥–ª—è 404 —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ–±—ã—á–Ω–æ:

throw createError(404) (–∫–∞–∫ –º—ã —Å–¥–µ–ª–∞–ª–∏)
–ü–æ—Ç–æ–º—É —á—Ç–æ Nuxt —Ç–æ–≥–¥–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–ø—Ä–∞–≤–ª—è–µ—Ç –æ—à–∏–±–∫–æ–π.

event.node.res.statusCode = 404 ‚Äî –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç, –∫–æ–≥–¥–∞ —Ç—ã –Ω–µ —Ö–æ—á–µ—à—å ‚Äú–æ—à–∏–±–∫—É Nuxt‚Äù, –∞ –ø—Ä–æ—Å—Ç–æ —Å—Ç–∞—Ç—É—Å (—Ä–µ–¥–∫–æ –Ω—É–∂–Ω–æ).

9) export async function getNewsBySlug(slug) ‚Äî –æ—Ç–∫—É–¥–∞ –±–µ—Ä—ë—Ç—Å—è slug –∏ –∫–∞–∫ –æ–Ω —Å—é–¥–∞ –ø–æ–ø–∞–¥–∞–µ—Ç

–í–æ—Ç —Ç—É—Ç –≤–∞–∂–Ω–∞—è ‚Äú—Ü–µ–ø–æ—á–∫–∞ –¥–∞–Ω–Ω—ã—Ö‚Äù.

–®–∞–≥ 1: slug –ø—Ä–∏—Ö–æ–¥–∏—Ç –∏–∑ URL

–¢—ã –æ—Ç–∫—Ä—ã–≤–∞–µ—à—å —Å—Ç—Ä–∞–Ω–∏—Ü—É:

/news/useasyncdata-kak-pravilno-poluchat-dannye

–®–∞–≥ 2: Nuxt –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç –≤ —Ñ–∞–π–ª [slug].vue

–ü–æ—Ç–æ–º—É —á—Ç–æ —Ñ–∞–π–ª:

pages/news/[slug].vue


[slug] –æ–∑–Ω–∞—á–∞–µ—Ç ‚Äú–ø–∞—Ä–∞–º–µ—Ç—Ä –º–∞—Ä—à—Ä—É—Ç–∞‚Äù.

–®–∞–≥ 3: –º—ã —á–∏—Ç–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä —Ä–æ—É—Ç–µ—Ä–∞

–í–Ω—É—Ç—Ä–∏ [slug].vue:

const route = useRoute()
const slug = String(route.params.slug || '')


route.params.slug ‚Äî —ç—Ç–æ —Ç–æ, —á—Ç–æ –±—ã–ª–æ –≤ URL.

–®–∞–≥ 4: –ø–µ—Ä–µ–¥–∞—ë–º slug –≤ —Ñ—É–Ω–∫—Ü–∏—é –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
getNewsBySlug(slug)


–í–æ—Ç –∑–¥–µ—Å—å slug ‚Äú–ø–æ–ø–∞–¥–∞–µ—Ç‚Äù –≤ getNewsBySlug.

–®–∞–≥ 5: —Ñ—É–Ω–∫—Ü–∏—è –∏—â–µ—Ç –Ω–æ–≤–æ—Å—Ç—å –ø–æ slug

–í –º–æ–∫–∞—Ö:

newsMock.find((n) => n.slug === slug)


–ü–æ–∑–∂–µ –≤ Strapi –±—É–¥–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ API:

—Ñ–∏–ª—å—Ç—Ä –ø–æ slug

–ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏

–ò—Ç–æ–≥–æ–≤–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ (—á—Ç–æ–±—ã —Å–ª–æ–∂–∏–ª–æ—Å—å)

URL: /news/abc

Nuxt ‚Üí pages/news/[slug].vue

useRoute() ‚Üí –¥–æ—Å—Ç–∞–ª–∏ slug = "abc"

useAsyncData(key, fetcher):

key: news/abc

fetcher: getNewsBySlug("abc")

–µ—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç ‚Üí throw createError(404)

–µ—Å–ª–∏ –µ—Å—Ç—å ‚Üí —Ä–µ–Ω–¥–µ—Ä–∏–º, SEO –±–µ—Ä—ë–º –∏–∑ item

v-html –≤—Å—Ç–∞–≤–ª—è–µ—Ç HTML-–∫–æ–Ω—Ç–µ–Ω—Ç —Å—Ç–∞—Ç—å–∏